import { StandardMerkleTree } from "@openzeppelin/merkle-tree";
import fs from "fs";

// (1)
const values = [
  ["0x0000000000000000000000000000000000000000000000000000000000000001"],
  ["0x0000000000000000000000000000000000000000000000000000000000000002"],
  ["0x0000000000000000000000000000000000000000000000000000000000000004"],
  ["0x0000000000000000000000000000000000000000000000000000000000000001"],
  ["0x000000000000000000000000000000000000000000000000000000000000007a"],
];

// (2)
const tree = StandardMerkleTree.of(values, ["bytes32"]);

// (3)
console.log('Merkle Root:', tree.root);

// (4)
fs.writeFileSync("tree.json", JSON.stringify(tree.dump()));


// ---- standard_binary_tree::test::test_tree_bytes32_type stdout ----
// leaf: 0xb5d9d894133a730aa651ef62d26b0ffa846233c74177a591a4a896adfda97d22 - index: 8
// leaf: 0x1ab0c6948a275349ae45a06aad66a8bd65ac18074615d53676c09b67809099e0 - index: 7
// leaf: 0xc167b0e3c82238f4f2d1a50a8b3a44f96311d77b148c30dc0ef863e1a060dcb6 - index: 6
// leaf: 0xb5d9d894133a730aa651ef62d26b0ffa846233c74177a591a4a896adfda97d22 - index: 5
// leaf: 0x3884b31e0f33131a3794d68a9e50eff8f202bbedcf8a837ffa8f02daac6d55c7 - index: 4
// leafs: 5 - tree_len: 9
// i: 3
// index left: 7, index right: 8
// left: 0x1ab0c6948a275349ae45a06aad66a8bd65ac18074615d53676c09b67809099e0, right: 0xb5d9d894133a730aa651ef62d26b0ffa846233c74177a591a4a896adfda97d22
// hash: 0xe685571b7e25a4a0391fb8daa09dc8d3fbb3382504525f89a2334fbbf8f8e92c - index: 3

// i: 2
// index left: 5, index right: 6
// left: 0xb5d9d894133a730aa651ef62d26b0ffa846233c74177a591a4a896adfda97d22, right: 0xc167b0e3c82238f4f2d1a50a8b3a44f96311d77b148c30dc0ef863e1a060dcb6
// hash: 0x136294f805d88ac24e4b5175215b07d8c996803df31b99052af7cbd4f0925760 - index: 2

// i: 1
// index left: 3, index right: 4
// left: 0xe685571b7e25a4a0391fb8daa09dc8d3fbb3382504525f89a2334fbbf8f8e92c, right: 0x3884b31e0f33131a3794d68a9e50eff8f202bbedcf8a837ffa8f02daac6d55c7
// hash: 0x22a9fa23ace0a643334709a15031f455653508baac1e2f3aeb34494420d3926d - index: 1

// i: 0
// index left: 1, index right: 2
// left: 0x22a9fa23ace0a643334709a15031f455653508baac1e2f3aeb34494420d3926d, right: 0x136294f805d88ac24e4b5175215b07d8c996803df31b99052af7cbd4f0925760
// hash: 0x50b71bac08207d2c6c6b0dc7c0deaf47adebd2555226d0670c4c0de40320961a - index: 0